#!/usr/bin/env node

/**
 * CLI wrapper for create-node-meeting-artifacts
 *
 * This script provides a convenient way to run the meeting artifacts creator
 * with the specified group name.
 *
 * Usage:
 *   create-meeting <group>
 *   create-meeting tsc
 *   create-meeting benchmarking
 */

import { spawn } from 'node:child_process';

const group = process.argv[2];

if (group === undefined) {
  console.error('Please pass in group as an argument');
  console.error('Usage: create-meeting <group>');
  console.error('Example: create-meeting tsc');
  process.exit(1);
}

const scriptName = group.toLowerCase() + '-meeting';

console.log(`Running meeting artifacts creation for group: ${group}`);

// Spawn the npm script with proper stdio inheritance
const child = spawn('npm', ['run', scriptName], {
  stdio: 'inherit',
  shell: true,
});

child.on('close', code => {
  process.exit(code);
});

child.on('error', error => {
  console.error(`Error running script: ${error.message}`);
  process.exit(1);
});
